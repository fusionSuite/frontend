<!--
 - FusionSuite - Frontend
 - Copyright (C) 2022 FusionSuite
 -
 - This program is free software: you can redistribute it and/or modify
 - it under the terms of the GNU Affero General Public License as published by
 - the Free Software Foundation, either version 3 of the License, or
 - any later version.
 -
 - This program is distributed in the hope that it will be useful,
 - but WITHOUT ANY WARRANTY; without even the implied warranty of
 - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 - GNU Affero General Public License for more details.
 -
 - You should have received a copy of the GNU Affero General Public License
 - along with this program.  If not, see <http://www.gnu.org/licenses/>.
 -->

 <modal-iconchoice *ngIf="showIcons" (newIcon)="updateIcon($event)"></modal-iconchoice>
 <div class="dialog">
  <div class="dialog__main">
    <div class="form__edit page__inner__cadre" style="height: calc(100% - 10px);position: absolute;width: calc(100% - 10px);margin: 5px;">
      <div class="page__inner__title">
        <fa-icon icon="bars" [fixedWidth]="true"></fa-icon>
        Quick add new menu
        <fa-icon
          icon="xmark"
          [fixedWidth]="true"
          style="float: right;cursor: pointer;"
          (click)="close()"
        ></fa-icon>
      </div>
      <form
        [formGroup]="formControls"
        (ngSubmit)="addMenu()"
      >

      <div class="form__edit__item">
        <div class="form__edit__item__title" i18n>Name</div>
        <div
          class="form__edit__item__value"
        >
          <input
            [value]=""
            formControlName="name"
          >
        </div>
      </div>
      <div class="form__edit__item">
        <div class="form__edit__item__title" i18n>Icon</div>
        <div
          class="form__edit__item__value"
        >
        <ng-select
          [items]="icons"
          formControlName="icon" 
        >
          <ng-template ng-label-tmp let-item="item">
            <fa-icon
              [icon]="item.name"
              size="lg"
              [fixedWidth]="true"
            ></fa-icon>
            {{ item.label }}
          </ng-template>
          <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
            <fa-icon
              [icon]="item.name"
              size="xl"
              [fixedWidth]="true"
            ></fa-icon>
            {{ item.label }}
          </ng-template>
        </ng-select>

        <!-- <button (click)="PanelIcon()" type="button" *ngIf="iconChosen === null">icon</button> -->
          <fa-icon [icon]="iconChosen" [fixedWidth]="true" size="2xl" *ngIf="iconChosen !== null" style="color: var(--sky11);"></fa-icon>
          <fa-icon icon="trash-can" [fixedWidth]="true" style="color: var(--red11); cursor: pointer;"  *ngIf="iconChosen !== null" (click)="chooseNewIcon()"></fa-icon>
        </div>
      </div>

      <div class="form__edit__item">
        <div class="form__edit__item__title" i18n>Position</div>
        <div
          class="form__edit__item__value"
        >
        <select
        >
          <option value="before" i18n>
            Before
          </option>
          <option value="after" i18n>
            After
          </option>
        </select>
        <select
        >
          <option></option>
          <option *ngFor="let mymenu of menu" [value]="mymenu.id">{{ mymenu.name }}</option>
        </select>
        </div>
      </div>
      <div class="form__actions">
        <button class="button--primary" i18n>Create a menu</button>
      </div>
      </form>
    </div>
  </div>
</div>